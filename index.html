<!DOCTYPE>
<html>
   <head>
       <link rel="stylesheet" type="text/css" href ="style.css" >
       <script type="application/javascript" src="../JS/jsdoc.js"></script>
       <script type="application/javascript" src="../JS/pokemons.js"></script>

       <script src = "https://code.jquery.com/jquery-3.1.1.min.js"></script>

       <!--Colocar estos 3-->
       <script type="text/javascript" src = "../node_modules/ramda/dist/ramda.js" ></script>
       <script src = "../node_modules/ramda/dist/ramda.min.js" ></script>
       <script type="text/javascript" src="../JS/require.js">

            const R = require('ramda');

       </script>


       <script>



       $(document).ready(function(){

         const main = (function(){
          var poke = getPokemon();
          //CREATE  POKEMON
          const setDisplay = x =>{
                  x.bind("mouseover" ,function(){
                    var img = $(this).find("img").attr("src");
                    var plc = $("#screenp").attr("src", img);

                  });

              return x;
          }
          const createPoke = x =>{
                    var div      = $("<div></div>").attr({
                        class:"row"
                    });
                    var ul       = $("<ul></ul>").appendTo(div);
                    var liPic    = $("<li></li>").append(
                      $("<img>").attr({
                            class : "poke-icon",
                            src: x.pic
                      })
                    ).appendTo(ul);
                    var liName   = $("<li></li>").append(

                     $("<a>" + x.name + "</a>").attr({
                       id:"name"
                     })

                    ).appendTo(ul);
                    var liType   = $("<li></li>").append(

                     $("<a>" + x.type + "</a>").attr({

                      })

                    ).appendTo(ul);
                    var liHeight = $("<li></li>").append(
                     $("<a>" + x.height + "</a>").attr({
                       id:"height"
                      })

                    ).appendTo(ul);
                    return div;
                  }
          //COMPOSITION
          const create = R.compose(setDisplay,createPoke);
          //HIGH-ORDER FUNCTION
          var bob = poke.map(create);
            //currying

          var screen_2 = createApped("#screen-2");
          screen_2(bob);
          //MOUSE EVENTS
      //    $("#screen-2").append(bob);
                var sorter = a =>{
                    return a == "name"
                        ? (x,y) => $(x).find("#" + a ).text().localeCompare( $(y).find("#" + a).text())
                        : (x,y) => (x).find("#" + a ).text() > (y).find("#" + a ).text()
                }

          $(".btn").click(function(e){

              screen_2(bob.sort(sorter(e.target.id)));

            });

          $("#search-btn").click(function(){

            (function(input){
                return  input != ""
                ?   $("#screenp").attr("src",buttonEvent.searchPokemon(input,poke).pic)
                : console.log("ERROR");

            })($("#text-input").val());

                /*  var input =
                  var bob = ;
                  $("#screenp").attr("src",bob)
                  input.val("");*/




          });



   })();//FINAL MAIN

       });//FINAL DE READY

       </script>


   </head>

<body>


     <div id = "frame"  >
         <div id = "left">

          <div id= "screen-1" >

             <img id="screenp" src = "../Icons/placeholder.png">
          </div>

          </div>
         <div id = "right">

                <form id = "form">
                    <input id ="text-input" type="text" placeholder="Introduce name">
                     <button type="button" id = "search-btn">Search</button>
                </form>

        <div id = "buttons">

          <button class = "btn" id = "name" >Name</button>
          <button class = "btn" id = "height" >height</button>

      </div>






          <div id = "screen-2">







          </div>


          </div>

       </div>



</body>

</html>
